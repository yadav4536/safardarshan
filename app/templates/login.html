<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>SafarDarshan | Sign-in or Sign-up</title>
    <!-- Bootstrap CSS -->
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

   <!-- Bootstrap JS (necessary for dismissing alerts) -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <link href="{{ url_for('static', filename='css/responsive/login.css') }}" rel="stylesheet">
</head>

<body>
  {% for message in get_flashed_messages() %}
  <div class="alert alert-success alert-dismissible fade show" role="alert" style="margin-top: 5px;">
      <strong>{{ message }}</strong>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
{% endfor %} 


    <br><br>

    <div class="cont">
        <!-- Sign In Form -->
        <div class="form sign-in">
            <h2>Welcome</h2>
            <form action="{{ url_for('auth.login') }}" method="POST">
                {{ signin_form.hidden_tag() }}
                <label>
                    <span>Email</span>
                    {{ signin_form.email(class_="form-control", placeholder="Enter your email", aria_label="Email") }}
                </label>
                <label>
                    <span>Password</span>
                    {{ signin_form.password(class_="form-control", placeholder="Enter your password", aria_label="Password") }}
                </label>
                <br>
                <div class="text-center">
                    <a class="forgot-pass" href="/forgot">Forgot password?</a>
                </div>
                

                {{ signin_form.submit(class_="submit") }}
            </form>
        </div>

        <!-- Toggle Area -->
        <div class="sub-cont">
            <div class="img">
                <div class="img__text m--up">
                    <h3>Don't have an account? Please Sign up!</h3>
                </div>
                <div class="img__text m--in">
                    <h3>If you already have an account, just sign in.</h3>
                </div>
                <div class="img__btn">
                    <span class="m--up">Sign Up</span>
                    <span class="m--in">Sign In</span>
                </div>
            </div>

            <!-- Sign Up Form -->
            <div class="form sign-up">
                <h2>Create your Account</h2>
                <form action="{{ url_for('auth.sign_up') }}" method="POST">
                    {{ signup_form.hidden_tag() }}
                    <label>
                        <span>Name</span>
                        {{ signup_form.name(class_="form-control", placeholder="Enter your name", aria_label="Name") }}
                    </label>
                    <label>
                        <span>Email</span>
                        {{ signup_form.email(class_="form-control", placeholder="Enter your email", aria_label="Email") }}
                    </label>
                    <label>
                        <span>Password</span>
                        {{ signup_form.password(class_="form-control", placeholder="Create your password", aria_label="Password") }}
                    </label>
                    {{ signup_form.submit(class_="submit") }}
                </form>
            </div>
        </div>
    </div>

    <script>
        document.querySelector('.img__btn').addEventListener('click', function () {
            document.querySelector('.cont').classList.toggle('s--signup');
        });
    </script>
    <script>
        // Automatically hide flash messages after 5 seconds (5000 ms)
        setTimeout(function() {
            var alerts = document.querySelectorAll('.alert');
            alerts.forEach(function(alert) {
                // Use Bootstrap's fade-out effect by removing 'show' class
                alert.classList.remove('show');
                // Remove the element from DOM after the fade-out transition (500ms for Bootstrap 5 alerts)
                setTimeout(function() {
                    alert.remove();
                }, 500); // Delay for fade out transition
            });
        }, 3000); // 3 seconds
    </script>
</body>
</html>
